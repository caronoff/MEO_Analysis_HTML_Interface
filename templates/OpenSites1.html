{% extends "layout.html" %}
{% block title %} Site Query{% endblock %}
{% block head %}
  {{ super() }}
  <style type="text/css">
    .important { color: #336699; }
  </style>
{% endblock %}
{% block content %}
<section class="content">
        <article id="opensites">
            <h3> {{ num_sites }} Open Sites </h3>
                <table id="opensite_table"  class="display" style="width:100%">
                    <thead>
                        <tr>
                            <th class="sorting" tabindex="0" aria-controls="example" rowspan="1" colspan="1" aria-label="AlertSiteNum: activate to sort column ascending" style="width: 57px;">AlertSiteNum</th>
                            <th>Beacon ID</th>
                            <th>Country Code Name</th>
                            <th>Comp Lat</th>
                            <th>Comp Lon</th>
                            <th>Open Time</th>
                            <th>Last Update</th>
                            <th>Num Passes</th>
                            <th>Num Sol</th>
                            <th>Num LEO/GEO Sol</th>
                            <th>Num MEO Sol</th>
                            <th>Num Doppler Sol</th>
                            <th>Num DOA Sol</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for row in open_site_list %}
                        <tr>
                            <td><a href="/SiteQuery?sitenum={{ row.0 }}">{{ row.0 }}</a></td>
                            <td>{{ row.1 }}</td>
                            <td>{{ row.2 }}</td>
                            <td>{{ row.3 }}</td>
                            <td>{{ row.4 }}</td>
                            <td>{{ row.5 }}</td>
                            <td>{{ row.6 }}</td>
                            <td>{{ row.7 }}</td>
                            <td>{{ row.8 }}</td>
                            <td>{{ row.9 }}</td>
                            <td>{{ row.10 }}</td>
                            <td>{{ row.11 }}</td>
                            <td>{{ row.12 }}</td>
                        </tr>
                        {% endfor %}
                    </tbody>
                    <tfoot>
                        <tr>
                            <th>AlertSiteNum</th>
                            <th>Beacon ID</th>
                            <th>Country Code Name</th>
                            <th>Comp Lat</th>
                            <th>Comp Lon</th>
                            <th>Open Time</th>
                            <th>Last Update</th>
                            <th>Num Passes</th>
                            <th>Num Sol</th>
                            <th>Num LEO/GEO Sol</th>
                            <th>Num MEO Sol</th>
                            <th>Num Doppler Sol</th>
                            <th>Num DOA Sol</th>
                        </tr>
                    </tfootd>
            </table>
        </article>
    </section>
{% endblock %}
{% block footer %}
<script>
$(document).ready(function() {
    $('#opensite_table').DataTable( {
        "lengthMenu": [[10, 25, 50, -1], [10, 25, 50, "All"]]
    });
    $('a.toggle-vis').on( 'click', function (e) {
        e.preventDefault();
 
        // Get the column API object
        var column = table.column( $(this).attr('data-column') );
 
        // Toggle the visibility
        column.visible( ! column.visible() );
    });
}   );
</script>
{% endblock %}
